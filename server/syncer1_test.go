package server

import (
	"context"
	"fmt"
	"github.com/ethereum/go-ethereum"
	"github.com/ethereum/go-ethereum/accounts/abi"
	"github.com/ethereum/go-ethereum/common"
	"github.com/ethereum/go-ethereum/ethclient"
	"github.com/readygo67/LiquidationBot/venus"
	"github.com/stretchr/testify/require"
	"math/big"
	"strings"
	"testing"
	"time"
)

/*
start Time:2022-02-25 21:36:29.24282 +0800 CST m=+25.948484501
1 height:15513168, liquidator:0x84965C074c837511c7b4F5a262961785C76D7FBb borrower:0x1832F197c539142dEC542b58C9dA3f780BAfe6E0, repayAmount:26036084279806925608, collateral:0xf508fCD89b8bd15579dc79A6827cB4686A3592c8, seizedAmount:52223776
2 height:15513168, liquidator:0x84965C074c837511c7b4F5a262961785C76D7FBb borrower:0x809851677262344DdDeD8DDD0A2821DC6f9058A4, repayAmount:28585043288492975888, collateral:0xA07c5b74C9B40447a954e1466938b865b6BBea36, seizedAmount:381908384
3 height:15524430, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0x484777334EcddD88d7c0c9792047fbCe9747c689, repayAmount:5280320944365888339968, collateral:0xf508fCD89b8bd15579dc79A6827cB4686A3592c8, seizedAmount:11418910535
4 height:15524430, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0x58f613E9f6AdA7723283Ee7bc31d29b2e6acA9Bc, repayAmount:2787079097334676586496, collateral:0x882C173bC7Ff3b7786CA16dfeD3DFFfb9Ee7847B, seizedAmount:417624293
5 height:15524526, liquidator:0x246074fb5d093ba0b2d73B4E216006312F9A03E7 borrower:0x8C702A9a6e0cd14a53251C630743c4F5327eddE8, repayAmount:887094577020601038395, collateral:0x1610bc33319e9398de5f57B33a5b184c806aD217, seizedAmount:303566530217
6 height:15524558, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0x7d237D30fe7c387C6848881E3d27edA8c4E65F2a, repayAmount:14321754772143924576256, collateral:0xA07c5b74C9B40447a954e1466938b865b6BBea36, seizedAmount:205414665859
7 height:15524570, liquidator:0x81366FFe0508403663A3b4633a077e0655412B8a borrower:0x9C45A2F6ADAD37ce529794c8405f39536dE889C4, repayAmount:3203546240526975500288, collateral:0xf508fCD89b8bd15579dc79A6827cB4686A3592c8, seizedAmount:7028545212
8 height:15524572, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0xC06A1b2B350c564ea25bC00c929cC5D13C03ea2f, repayAmount:122804554741708800000, collateral:0x882C173bC7Ff3b7786CA16dfeD3DFFfb9Ee7847B, seizedAmount:18754465
9 height:15524608, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0x4f977A0d9dB72c56A13086812957CcBe62Aacb20, repayAmount:155793644002374821904, collateral:0xB248a295732e0225acd3337607cc01068e3b9c10, seizedAmount:1270360459318
10 height:15524656, liquidator:0x246074fb5d093ba0b2d73B4E216006312F9A03E7 borrower:0xdf200400406e5d55F87ED54d3FD5886a5358faff, repayAmount:50507723359092974077, collateral:0x86aC3974e2BD0d60825230fa6F355fF11409df5c, seizedAmount:35943299432
11 height:15524659, liquidator:0x246074fb5d093ba0b2d73B4E216006312F9A03E7 borrower:0xC18ee6bF19aEccbC5985f68A4f10F4cB2D2BcB51, repayAmount:593079513796694230162, collateral:0xf91d58b5aE142DAcC749f58A49FCBac340Cb0343, seizedAmount:182168502868
12 height:15524976, liquidator:0x81366FFe0508403663A3b4633a077e0655412B8a borrower:0x495c3F7d27616A5c8FBD6C10aA16f037f24a2497, repayAmount:100348908694685990912, collateral:0xf508fCD89b8bd15579dc79A6827cB4686A3592c8, seizedAmount:222379905
13 height:15525143, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0x7894ae480cfD77E09E9130F26695E732C686bdb1, repayAmount:95941487534639136768, collateral:0xf508fCD89b8bd15579dc79A6827cB4686A3592c8, seizedAmount:213928026
14 height:15525160, liquidator:0xd32684939Ff72D4c54F658667d0C99dcB4a03800 borrower:0x45B6e2AA5db3873289245Fd2DC78F30914188764, repayAmount:62612037223745821239, collateral:0x1610bc33319e9398de5f57B33a5b184c806aD217, seizedAmount:22232032543
15 height:15525273, liquidator:0x81366FFe0508403663A3b4633a077e0655412B8a borrower:0x3A91d1D85f7B407251688E599a2C488b2f4c9a3E, repayAmount:7187469265237307293696, collateral:0xf508fCD89b8bd15579dc79A6827cB4686A3592c8, seizedAmount:16131146333
16 height:15525286, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0x4F203C1B3Dc41e222b79d79bC9a330E66A921538, repayAmount:4957909032043746480848, collateral:0x9A0AF7FDb2065Ce470D72664DE73cAE409dA28Ec, seizedAmount:33426748024164
17 height:15525322, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0x44a8CE69368d311a2b75FB12f84D2ff408c0B7DB, repayAmount:150764824233973580099, collateral:0xec3422Ef92B2fb59e84c8B02Ba73F1fE84Ed8D71, seizedAmount:6939275166021
18 height:15525323, liquidator:0x81366FFe0508403663A3b4633a077e0655412B8a borrower:0x759D907A82Fa443E70FA3B40ebe181270D8b0868, repayAmount:1745028214221374750720, collateral:0x650b940a1033B8A1b1873f78730FcFC73ec11f1f, seizedAmount:766177619475
19 height:15525356, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0x84535a41A0b6A1E6Df5EbB3542C52C88b74a549c, repayAmount:3169441138722235010817, collateral:0x9A0AF7FDb2065Ce470D72664DE73cAE409dA28Ec, seizedAmount:21586818870609
20 height:15525359, liquidator:0x81366FFe0508403663A3b4633a077e0655412B8a borrower:0xC5e9762EBf4f7E9044C04B55F6B90CB398646FdC, repayAmount:49025496916628193280, collateral:0x650b940a1033B8A1b1873f78730FcFC73ec11f1f, seizedAmount:21525289841
21 height:15525367, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0xcC5c9De5D6463878Ccd8ae3AFCE6a6bEa58156EC, repayAmount:176460363404888058702, collateral:0xA07c5b74C9B40447a954e1466938b865b6BBea36, seizedAmount:2613578088
22 height:15525406, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0x3c845E5564315C24c310A3CA7f1528e8054BCAe0, repayAmount:249803997820215590912, collateral:0x86aC3974e2BD0d60825230fa6F355fF11409df5c, seizedAmount:186171327282
23 height:15525696, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0x8Bb394248Def97dCDE83d4c1d5A91C3620fE3063, repayAmount:332126702635208784906, collateral:0xA07c5b74C9B40447a954e1466938b865b6BBea36, seizedAmount:4935138096
24 height:15525709, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0xB0Bd470f6cf96528d184190D56C075dA92eFd06D, repayAmount:583879259174791454908, collateral:0x1610bc33319e9398de5f57B33a5b184c806aD217, seizedAmount:211519606039
25 height:15525723, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0x201275B2bcCCbB681bC2B970ba3a8CCc0B703F64, repayAmount:22740668750049406064708, collateral:0xA07c5b74C9B40447a954e1466938b865b6BBea36, seizedAmount:337908190572
26 height:15525726, liquidator:0xd32684939Ff72D4c54F658667d0C99dcB4a03800 borrower:0x02353b193fb9921DD6F517a469D876EC63A113Ff, repayAmount:71648901547756651103, collateral:0x86aC3974e2BD0d60825230fa6F355fF11409df5c, seizedAmount:53929288111
27 height:15525735, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0x0794e8235FBDfAf2061a6721AdE61126d8493B35, repayAmount:329505778064128870765, collateral:0x882C173bC7Ff3b7786CA16dfeD3DFFfb9Ee7847B, seizedAmount:51584788
28 height:15525776, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0xba248273cF458b604eE8a6D5fE802b7858365C6C, repayAmount:200629296973853729814, collateral:0xA07c5b74C9B40447a954e1466938b865b6BBea36, seizedAmount:2991252208
29 height:15525853, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0x08AfE88Aae6E59154E0e966A5d0cd84a1011790A, repayAmount:390127631258930905088, collateral:0xf508fCD89b8bd15579dc79A6827cB4686A3592c8, seizedAmount:889011922
30 height:15525906, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0x8e9f6684b8b9c10CFBC76d08Df5b45cD2d2DebCe, repayAmount:159570266260440678400, collateral:0xf508fCD89b8bd15579dc79A6827cB4686A3592c8, seizedAmount:364086370
31 height:15525995, liquidator:0xd32684939Ff72D4c54F658667d0C99dcB4a03800 borrower:0xa6256791C8C680a66201e78Fd86a36E73CE036D4, repayAmount:3621718295753814307663, collateral:0x882C173bC7Ff3b7786CA16dfeD3DFFfb9Ee7847B, seizedAmount:570514796
32 height:15526013, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0x2BE85514B80ba6357794A490F81669f7a429D8B7, repayAmount:60407455583409330335942, collateral:0xf508fCD89b8bd15579dc79A6827cB4686A3592c8, seizedAmount:138825212826
33 height:15526016, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0x790d40907bd48298Da6651e388E7E455AF2d798f, repayAmount:151367136428838256640, collateral:0x882C173bC7Ff3b7786CA16dfeD3DFFfb9Ee7847B, seizedAmount:23790978
34 height:15526016, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0xfeD360f407CEad484324a4F1C58FE998598e87F9, repayAmount:146373460309833357312, collateral:0xA07c5b74C9B40447a954e1466938b865b6BBea36, seizedAmount:2200952293
35 height:15526316, liquidator:0x246074fb5d093ba0b2d73B4E216006312F9A03E7 borrower:0xEC9C9ca2D28D930a2D4656aD57be6455F7186F7A, repayAmount:89669032737648829652, collateral:0xA07c5b74C9B40447a954e1466938b865b6BBea36, seizedAmount:1352002864
36 height:15527163, liquidator:0x81366FFe0508403663A3b4633a077e0655412B8a borrower:0x8E380115becda48E7c2C072E3810BCb55340F31e, repayAmount:118787814356469268480, collateral:0x650b940a1033B8A1b1873f78730FcFC73ec11f1f, seizedAmount:53097039144
37 height:15527256, liquidator:0x81366FFe0508403663A3b4633a077e0655412B8a borrower:0xcF97bf60a18E6e0bbDdCcD87B5384a829beb4953, repayAmount:1409346683207407632384, collateral:0x650b940a1033B8A1b1873f78730FcFC73ec11f1f, seizedAmount:631250159276
38 height:15527445, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0x00eeAeB5AfBaEa5cBa0857EBB22cB83475Bc5b73, repayAmount:646193823428047273984, collateral:0x882C173bC7Ff3b7786CA16dfeD3DFFfb9Ee7847B, seizedAmount:101384579
39 height:15527453, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0xa8356249D037b266B46249508264c63266E45848, repayAmount:3260027317123100442624, collateral:0x882C173bC7Ff3b7786CA16dfeD3DFFfb9Ee7847B, seizedAmount:511481985
40 height:15527457, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0xC275dBbf80374b8f6534fb3f1e023F919E8047b1, repayAmount:58958227101240082432, collateral:0xA07c5b74C9B40447a954e1466938b865b6BBea36, seizedAmount:893231054
41 height:15527457, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0xc4C6E038C1A126C57F540A4c5d57f8B02d05fda0, repayAmount:3165597610611851786855, collateral:0x972207A639CC1B374B893cc33Fa251b55CEB7c07, seizedAmount:7310358880
42 height:15527459, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0x6B5F94987d96F71679B6670A31a03829d1f2883C, repayAmount:154402993985240284321, collateral:0x57A5297F2cB2c0AaC9D554660acd6D385Ab50c6B, seizedAmount:8741741359
43 height:15527474, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0x2557f657c5e609BB25538Cf10614B921a226aa55, repayAmount:1560927501164060385345, collateral:0xA07c5b74C9B40447a954e1466938b865b6BBea36, seizedAmount:23648420021
44 height:15527506, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0x376F84c1355A3E7b804fCe2721A76f91d8ae5Aac, repayAmount:3431944431529603612648, collateral:0x882C173bC7Ff3b7786CA16dfeD3DFFfb9Ee7847B, seizedAmount:539254564
45 height:15527523, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0x3A91d1D85f7B407251688E599a2C488b2f4c9a3E, repayAmount:3597355913893677891584, collateral:0xf508fCD89b8bd15579dc79A6827cB4686A3592c8, seizedAmount:8352524426
46 height:15527525, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0x56338b182444AF5a7D70F0983430c174EeCC33E5, repayAmount:713912511968760609359, collateral:0x5c9476FcD6a4F9a3654139721c949c2233bBbBc8, seizedAmount:3002637432139
47 height:15527558, liquidator:0x81366FFe0508403663A3b4633a077e0655412B8a borrower:0x8A5eDFBD7B43e73dba807112d1c1E099FDbB594c, repayAmount:519908954172125540475, collateral:0xf508fCD89b8bd15579dc79A6827cB4686A3592c8, seizedAmount:1207151125
48 height:15527575, liquidator:0x246074fb5d093ba0b2d73B4E216006312F9A03E7 borrower:0x58E03d622a88b4012ee0a97235C6b110077FB867, repayAmount:450914087542094210309, collateral:0x882C173bC7Ff3b7786CA16dfeD3DFFfb9Ee7847B, seizedAmount:71024830
49 height:15527585, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0x7954454055724Ffa92E66082a0b6f3A5F37d200f, repayAmount:177145880686842763598, collateral:0x5c9476FcD6a4F9a3654139721c949c2233bBbBc8, seizedAmount:749654128584
50 height:15527598, liquidator:0x8dfeb5Baaf7f6fe7f3FaD561E37EA81D4B4163F0 borrower:0x9854177ceBBF87fCACb0FF2B8f43EbbDd8D2Ea26, repayAmount:346250848100285206167, collateral:0x1610bc33319e9398de5f57B33a5b184c806aD217, seizedAmount:128099313130
51 height:15527633, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0x9C45A2F6ADAD37ce529794c8405f39536dE889C4, repayAmount:1604996756211712100352, collateral:0x882C173bC7Ff3b7786CA16dfeD3DFFfb9Ee7847B, seizedAmount:253863941
52 height:15527636, liquidator:0x81366FFe0508403663A3b4633a077e0655412B8a borrower:0xD12610C116b5BfBE3a2cD7B19BD7A1dc71C34c60, repayAmount:653627250032387424256, collateral:0x57A5297F2cB2c0AaC9D554660acd6D385Ab50c6B, seizedAmount:37432275045
53 height:15527637, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0x262F1c00EBc48f259C01aF1c464219f4a7ddfa7D, repayAmount:1825072153336033042944, collateral:0xA07c5b74C9B40447a954e1466938b865b6BBea36, seizedAmount:27930851307
54 height:15527637, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0xFeB8D6d04ea9e06607D89166973e6FedEB2e9a77, repayAmount:1252943624173729891704, collateral:0xA07c5b74C9B40447a954e1466938b865b6BBea36, seizedAmount:19175012888
55 height:15527646, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0x5718CA7fAD3958C91812bfC7D3BbAE4825BbA658, repayAmount:3567585619533721239552, collateral:0xf508fCD89b8bd15579dc79A6827cB4686A3592c8, seizedAmount:8344679088
56 height:15527673, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0x22c822c574429d87D3441916EA828cCFBAD5489a, repayAmount:528263425897708639418, collateral:0x9A0AF7FDb2065Ce470D72664DE73cAE409dA28Ec, seizedAmount:3770750227892
57 height:15527694, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0x21ED644C269C92722224cb923C3ED85e33ae755d, repayAmount:933920036709349824883, collateral:0x5c9476FcD6a4F9a3654139721c949c2233bBbBc8, seizedAmount:3981285046529
58 height:15527716, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0xb0bc6Fe19F2E89Db83028266A7944fbCe2B71763, repayAmount:189524921912209866752, collateral:0x9A0AF7FDb2065Ce470D72664DE73cAE409dA28Ec, seizedAmount:1364110629300
59 height:15527722, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0xF6Cf732b0eCFE1DEEA689141978A0254d6FD0236, repayAmount:130774697726600265728, collateral:0xB248a295732e0225acd3337607cc01068e3b9c10, seizedAmount:1130108322719
60 height:15527754, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0xeCA023e03127205dCa2F196B8b32bdD748203587, repayAmount:2383152271226555186610, collateral:0x151B1e2635A717bcDc836ECd6FbB62B674FE3E1D, seizedAmount:1744741172342
61 height:15527862, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0xB29efAAdA754A12a20EcFA709C791Dd0Ba08aa33, repayAmount:11727357817309420663615, collateral:0xf508fCD89b8bd15579dc79A6827cB4686A3592c8, seizedAmount:27658351862
62 height:15529762, liquidator:0x81366FFe0508403663A3b4633a077e0655412B8a borrower:0xcC5c9De5D6463878Ccd8ae3AFCE6a6bEa58156EC, repayAmount:88143262540121833472, collateral:0x57A5297F2cB2c0AaC9D554660acd6D385Ab50c6B, seizedAmount:5108956081
63 height:15529926, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0x63FD8ff87b45ec999037334C17F2e09244Dd4F64, repayAmount:52212746175949701120, collateral:0xA07c5b74C9B40447a954e1466938b865b6BBea36, seizedAmount:817611975
64 height:15529926, liquidator:0x433A07F5561669f94be757A90dDdA9Ae957418B2 borrower:0xA42059CeFbA630de894DC06C72E97dDaf4442647, repayAmount:9042345302698304902933, collateral:0x9A0AF7FDb2065Ce470D72664DE73cAE409dA28Ec, seizedAmount:65421692008111
65 height:15529933, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0xE9A9d251fBFbdd2efBCA56A03544681EDA1Ba57F, repayAmount:4670005606263367401472, collateral:0x650b940a1033B8A1b1873f78730FcFC73ec11f1f, seizedAmount:2206864424663
66 height:15529944, liquidator:0xd32684939Ff72D4c54F658667d0C99dcB4a03800 borrower:0x90600E6009E025156B7137D38f9B5357f8831d38, repayAmount:110346529497021632130, collateral:0xf508fCD89b8bd15579dc79A6827cB4686A3592c8, seizedAmount:260123515
67 height:15529976, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0x6Df38C8000fC4cb03b95225064492c6AeC9F2a23, repayAmount:905091022577668552771, collateral:0x9A0AF7FDb2065Ce470D72664DE73cAE409dA28Ec, seizedAmount:6585015527142
68 height:15529976, liquidator:0x388fb96bb568769782d654a527787659394cE4ef borrower:0xfDA2b6948E01525633B4058297bb89656609e6Ad, repayAmount:607502343759537125391, collateral:0x5c9476FcD6a4F9a3654139721c949c2233bBbBc8, seizedAmount:2615458965592
69 height:15529981, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0xC06A1b2B350c564ea25bC00c929cC5D13C03ea2f, repayAmount:61464806857970892800, collateral:0xB248a295732e0225acd3337607cc01068e3b9c10, seizedAmount:535904579345
70 height:15529995, liquidator:0x45332281346619041A47B72B5ac69d8d3D37De2a borrower:0x4764cD620b83Cb7eE5ce2811cEa15654Bfe8Fd04, repayAmount:1713410998838529097728, collateral:0xA07c5b74C9B40447a954e1466938b865b6BBea36, seizedAmount:26897117292
71 height:15529995, liquidator:0x81366FFe0508403663A3b4633a077e0655412B8a borrower:0x448d0Bef967C0BA9Eee9d5660ED3AcB6E45eCa19, repayAmount:966875394530682208256, collateral:0xA07c5b74C9B40447a954e1466938b865b6BBea36, seizedAmount:15178005108
72 height:15539043, liquidator:0x246074fb5d093ba0b2d73B4E216006312F9A03E7 borrower:0x54734fB2738c1DfDAA4de703126dB149AB7855F4, repayAmount:50882750952499282078, collateral:0x1610bc33319e9398de5f57B33a5b184c806aD217, seizedAmount:17844115588
*/

func TestFilterUSDCLiquidateBorrowEvent(t *testing.T) {
	ctx := context.Background()
	//cfg, err := config.New("../config.yml")
	rpcURL := "http://42.3.146.198:21993"
	c, err := ethclient.Dial(rpcURL)

	_, err = c.BlockNumber(ctx)
	require.NoError(t, err)

	//liquidationCh := make(chan *Liquidation, 64)
	//priorityliquidationCh := make(chan *Liquidation, 64)
	//feededPricesCh := make(chan *FeededPrices, 64)

	//syncer := NewSyncer(c, nil, cfg.Comptroller, cfg.Oracle, cfg.PancakeRouter, cfg.Liquidator, cfg.PrivateKey, feededPricesCh, liquidationCh, priorityliquidationCh)
	//
	topicLiquidateBorrow := common.HexToHash("0x298637f684da70674f26509b10f07ec2fbc77a335ab1e7d6215a4b2484d8bb52")

	//var addresses []common.Address
	//name := make(map[string]string)
	//for _, token := range syncer.tokens {
	//	addresses = append(addresses, token.Address)
	//}

	vbep20Abi, err := abi.JSON(strings.NewReader(venus.Vbep20MetaData.ABI))
	require.NoError(t, err)

	query := ethereum.FilterQuery{
		FromBlock: big.NewInt(15513152),
		ToBlock:   big.NewInt(15565745),
		Addresses: []common.Address{common.HexToAddress("0xecA88125a5ADbe82614ffC12D0DB554E2e2867C8")}, //usdc
		Topics:    [][]common.Hash{{topicLiquidateBorrow}},
	}

	logs, err := c.FilterLogs(context.Background(), query)
	require.NoError(t, err)
	fmt.Printf("start Time:%v\n", time.Now())
	for i, log := range logs {
		var eve venus.Vbep20LiquidateBorrow
		err = vbep20Abi.UnpackIntoInterface(&eve, "LiquidateBorrow", log.Data)
		fmt.Printf("%v height:%v, txhash:%v, liquidator:%v borrower:%v, repayAmount:%v, collateral:%v, seizedAmount:%v\n", (i + 1), log.BlockNumber, log.TxHash, eve.Liquidator, eve.Borrower, eve.RepayAmount, eve.VTokenCollateral, eve.SeizeTokens)
	}
	fmt.Printf("end Time:%v\n", time.Now())
}

/*
	Liquidator       common.Address
	Borrower         common.Address
	RepayAmount      *big.Int
	VTokenCollateral common.Address
	SeizeTokens      *big.Int
*/
